/*--------------------------------------------------------

Program file:   careyzp4.c
Author:         Zachary Carey
Assignment:     Prog #4
Date:           03/22/2020
Course:         INFO2110
Objective:      This program calculates the total dollar amount for the number of lunches
                that the user inputs, it also calulates the average amount spent for the
                lunches. The user will input the total number of lunches they want to input
                and the amount they spent on each lunch. After the average is calculated a
                message is displayed based off the average spent.  

----------------------------------------------------------*/

//*Carey Lunches Analyzer*//

#include <stdio.h>

int main (void)
{
        /* Variable Declarations */
        /* --------------------- */
        int number_of_students = 0; /* user decides number of students */
        int grade1, grade2, grade3; /* holds 3 integer grades */
        int student_id[30]={0}; /* holds up to 30 integer student ids */
        int average[30]; /* will contain the averages rounded off */
        char school_name[20] = "CCCC"; /* array of up to 20 characters for school*/
        int class_total = 0; /* accumulator */
        int class_average; /* will contain the averages rounded off */
        int x; /* loop control variable */
        int sum = 0; /* initialize sum to zero.*/
        char c; /* for buffer clearing */

    printf  ("Please enter your school name: ");
    scanf   ("%20[^\n]", school_name);
    while   ((c = getchar () !='\n') && c != EOF);

    printf  ("Welcome to %s Grade Calculator\n\n", school_name);
    
    do
    {
            
            printf  ("Enter the number of students to process (0-30): ");
            scanf   ("%i", &number_of_students);  
            while   ((c = getchar () !='\n') && c != EOF);

            if      (number_of_students < 0 ||  number_of_students > 30)
                printf  ("***Invalid number of students entered.***\n\n");

    }while (number_of_students >30);

    printf  ("\n");

    for (x = 1; x <= number_of_students; x++)
        {
            do
            {
                printf  ("Enter the ID Number for student #%i(0-9999):", x);
                scanf   ("%i", &student_id[x]);
                while   ((c = getchar () !='\n') && c != EOF);

                if  (student_id[x] < 0 || student_id[x] > 9999)
                    printf  ("Bad ID Number, please re-enter\n");

                printf  ("\n");
                printf  ("Now enter the 3 grades to be averaged\n\n");

                do
                {
                printf  ("Enter grade #1: ");
                scanf   ("%i", &grade1);
                while   ((c = getchar () !='\n') && c != EOF);

                if  (grade1 < 0 || grade1 > 100)
                    printf  ("*** Invalid entry. Grade must be from 0 to 100. ***\n\n");
                }while  (grade1 < 0 || grade1 > 100);

                do
                {
                printf  ("Enter grade #2: ");
                scanf   ("%i", &grade2);
                while   ((c = getchar () !='\n') && c != EOF);

                if  (grade2 < 0 || grade2 > 100)
                    printf  ("*** Invalid entry. Grade must be from 0 to 100. ***\n");
                }while  (grade2 < 0 || grade2 > 100);

                do
                {
                printf  ("Enter grade #3: ");
                scanf   ("%i", &grade3);
                while   ((c = getchar () !='\n') && c != EOF);

                if  (grade3 < 0 || grade3 > 100)
                    printf  ("*** Invalid entry. Grade must be from 0 to 100. ***\n\n");
                }while  (grade3 < 0 || grade3 > 100);

                average[x] = (grade1 + grade2 + grade3) / 3;
            
            printf  ("\n");
 
           }   while (student_id[x] < 0 || student_id[x] > 9999);

        }

        
        printf  ("Grade Report for %s\n\n" ,school_name);
        printf ("ID No.\t   Avg.\t  Grade\n");

        for (x = 1; x <= number_of_students; x++)
        {
            if  (average[x] < 0 && average[x] > 63 )
                printf ("%d\t   %i\t    F\n", student_id[x], average[x]);
            if    (average[x] < 64 && average[x] > 66 )
                printf ("%d\t   %i\t    D\n", student_id[x], average[x]);
            if    (average[x] < 67 && average[x] > 69 )
                printf ("%d\t   %i\t    D+\n", student_id[x], average[x]);
            if    (average[x] < 70 && average[x] > 73 )
                printf ("%d\t   %i\t    C-\n", student_id[x], average[x]);
            if    (average[x] < 74 && average[x] > 76 )
                printf ("%d\t   %i\t    C\n", student_id[x], average[x]);
            if    (average[x] < 77 && average[x] > 79 )
                printf ("%d\t   %i\t    C+\n", student_id[x], average[x]);
            if    (average[x] < 80 && average[x] > 83 )
                printf ("%d\t   %i\t    B-\n", student_id[x], average[x]);
            if    (average[x] < 84 && average[x] > 86 )
                printf ("%d\t   %i\t    B\n", student_id[x], average[x]);
            if    (average[x] < 87 && average[x] > 89 )
                printf ("%d\t   %i\t    B+\n", student_id[x], average[x]);
            if    (average[x] < 90 && average[x] > 93 )
                printf ("%d\t   %i\t    A-\n", student_id[x], average[x]);
            if    (average[x] < 94 && average[x] > 100 )
                printf ("%d\t   %i\t    A+\n", student_id[x], average[x]);
        }

    getchar();  /* optional used for console apps */
    return 0;   /*end main*/

}
